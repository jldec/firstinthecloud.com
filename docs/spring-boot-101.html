<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">


<!-- html generated by pub-server from markdown /spring-boot-101.md -->

<title>Spring Boot 101</title>
<link rel="stylesheet" href="./css/pubblog.css">
<link rel="stylesheet" href="./css/open-sans.css">
<link rel="stylesheet" href="./css/font-awesome.css">
<link rel="stylesheet" href="./css/highlight-github-0.2.3.css">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>

<div data-render-layout="main-layout"><header>
<div id="doctitle"><h1 id="-firstinthecloud-"><a href="./">firstinthecloud</a></h1>
</div>
<div id="topmenu"><ul>
<li><a href="https://github.com/jldec/firstinthecloud.com" title="github" target="_blank"><span class="fa fa-2x fa-fw">&#xf09b;</span></a></li>
</ul>
</div>
</header>

<div id="navicon" onclick=""><p><span class="fa fa-fw fa-2x">&#xf01a;</span></p>

<nav id="toc">
<ul>
<li><strong><a href="./">Home</a></strong></li>
<li><a href="./spring-boot-101">Spring Boot 101</a></li>
<li><a href="./how-this-site-is-hosted">How this site is hosted</a></li>
</ul>
</nav>
</div>

<div id="title" style='background-image:url("images/boot1.jpg");'>
  <div class="title">Spring Boot 101</div>
  <div class="subtitle"></div>
</div>

<div id="main" onclick="">
<div id="content">

<div data-render-page="post"><span class="permalink"><a class="permalink" href="./spring-boot-101" title="Link to this post.">&#xf0c1;</a></span><span class="date">2017-06-28</span>

<div >
<div data-render-html="/spring-boot-101"><h1 id="what-is-a-spring-bean-really-">What is a Spring Bean really?</h1>
<p>Today I was feeling rather lost in my attempts to understand what is going on inside a Spring Boot application.</p>
<p>Being new to Spring, I had spent a fair bit of time googling and reading, but most of the things i came across simply assume prior knowledge when it comes to fundamental concepts like &#39;Beans&#39;.</p>
<p>Mark Fisher, my friend and colleague here on the Spring team at Pivotal, came to my rescue and offered to explain. In exchange, I promised to write about it.</p>
<p>The result is this blog post and <a href="https://github.com/markfisher/spring-boot-hello-world" target="_blank">https://github.com/markfisher/spring-boot-hello-world</a>.</p>
<h2 id="in-the-beginning-there-was-xml">In the beginning there was XML</h2>
<p>Spring started by providing a much-simpler-than-J2EE, XML-based way to configure the main classes that your Java application depended on.</p>
<p>Simply instantiating everything with <code>new</code> in Java was not ideal because this meant that you had to hardwire all those dependencies into your code, so you couldn&#39;t easily use say one database for local testing and a different database for CI or production.  </p>
<p>Instead of writing your own factories which abstracted the creation of things like database connections, you could use Spring and provide the details of all those things in XML.</p>
<p>Spring would read some environment-specific XML at startup and create instances of those classes based on what was in the XML.</p>
<p>And those instances were... <em><strong>Beans</strong></em>, something like this:</p>
<p><img src="./images/boot1b.jpg" alt="ApplicationContext.getBean()"></p>
<h2 id="now-there-are-annotations">Now there are @Annotations</h2>
<p>Fast forward a few years and the XML has been replaced by Java code annotated as <code>@Configuration</code> and <code>@ConfigurationProperties</code>.</p>
<pre><code class="lang-java">@Configuration
@EnableConfigurationProperties(GreeterProperties.class)
public class GreeterAutoConfiguration {

    @Bean
    public Greeter greeter(GreeterProperties properties) {
        return new Greeter(properties.getGreeting());
    }
}
</code></pre>
<p>Notice that the factory method is annotated as <code>@Bean</code>.</p>
<p>If the configuration class is included in the <code>META-INF/spring.factories</code> of a dependent jar, then a Spring Boot application will automatically call the factory method to create a singleton instance of that class on startup.</p>
<blockquote>
<p>This is the magic<br>and those instances are still called <strong>Beans</strong></p>
</blockquote>
<h2 id="what-about-spring-initializr-https-start-spring-io-and-all-those-starters-">What about <a href="https://start.spring.io/" target="_blank">Spring Initializr</a> and all those starters?</h2>
<p>Now that <a href="http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using-boot-configuration-classes" target="_blank"><em>configuration scanning</em></a> is no longer such a mystery, the role of Spring Boot Starters is easier to understand.</p>
<p>By including a starter in the dependencies of your Boot App, you are telling Spring to scan for configuration classes inside that starter, which results in the automatic creation of the <strong>Beans</strong> for that starter.</p>
<p><img src="./images/boot4.jpg" alt="Initializr injection"></p>
<blockquote>
<p>Easy Peasy Lemon Squeezy<br><span class="fa">&#xf094;</span></p>
</blockquote>
<hr>
</div>
</div>

</div>

<div id="credit"><p><span class="fa">&#xf004;</span> powered by <a href="http://jldec.github.io/pub-doc/" target="_blank">pub-server</a> and <a href="https://github.com/jldec/pub-theme-pubblog" target="_blank">pub-theme-pubblog</a></p>
</div>

</div>
</div>
</div>

<script>window.pubRef = {"href":"/spring-boot-101","relPath":"."};</script>
<script src="./js/jquery-1.11.3.min.js" ></script>
<script src="./js/highlight-0.2.3.min.js" ></script>
<script src="./js/pub-pkg-highlight-0.2.3.js" ></script>
<script src="./pub/pub-ux.js" ></script>
<!-- copyright -->
</body>
</html>
